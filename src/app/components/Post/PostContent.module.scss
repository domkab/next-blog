@use '@/styles/_mixins' as *;
@use '@/styles/_vars' as vars;

.post {
  padding: 0.75rem;
  @include onLaptop {
    padding: 0;
  }
}

.post-content {
  max-width: 100%;
  overflow-x: hidden;

  // Key: allow breaking long/unbreakable strings
  overflow-wrap: anywhere;
  word-break: break-word;

  :global(h1),
  :global(h2),
  :global(h3),
  :global(h4),
  :global(h5),
  :global(h6),
  :global(p),
  :global(li),
  :global(blockquote) {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
    max-width: 100%;
  }

  // Links often contain long URLs
  :global(a) {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  // Code blocks / inline code are frequent overflow culprits
  :global(pre) {
    max-width: 100%;
    overflow-x: auto;
  }

  :global(code) {
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  :global(img),
  :global(video),
  :global(iframe) {
    max-width: 100%;
    height: auto;
  }

  :global(ul) {
    list-style-type: disc;
    padding-left: 1.5rem;
    margin: 1rem 0;
  }

  // ordered lists
  :global(ol) {
    list-style-type: decimal;
    padding-left: 1.5rem;
    margin: 1rem 0;
  }

  :global(li) {
    margin: 0.25rem 0;
    line-height: 1.6;
  }

  :global(ul ul),
  :global(ol ol),
  :global(ul ol),
  :global(ol ul) {
    margin-top: 0.5rem;
  }

  :global(p),
  :global(li) {
    font-size: vars.$type-body;
    line-height: vars.$type-line;
  }
  :global(h1) {
    font-size: vars.$type-h1;
    line-height: vars.$type-headline-line;
  }
  :global(h2) {
    font-size: vars.$type-h2;
    line-height: 1.25;
  }
  :global(h3) {
    font-size: vars.$type-h3;
    line-height: 1.3;
  }
  :global(h4) {
    font-size: vars.$type-h4;
    line-height: 1.35;
  }

  @include onMobile {
    :global(p),
    :global(li) {
      font-size: vars.$type-body-sm;
      line-height: vars.$type-line-sm;
    }

    :global(h1) {
      font-size: vars.$type-h1-sm;
      line-height: vars.$type-headline-line-sm;
    }
    :global(h2) {
      font-size: vars.$type-h2-sm;
      line-height: 1.22;
    }
    :global(h3) {
      font-size: vars.$type-h3-sm;
      line-height: 1.25;
    }
    :global(h4) {
      font-size: vars.$type-h4-sm;
      line-height: 1.28;
    }
  }

  &__empty-paragraph {
    // margin: 0 0 1rem;
  }

  &__figutre {
    // margin: 2rem 0;
    text-align: center;
  }

  &__image {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
  }

  &__caption {
    margin-top: 0.5rem;
    font-size: 0.875rem;

    &--author {
      font-style: italic;
      margin-left: 0.25rem;
    }
  }
}